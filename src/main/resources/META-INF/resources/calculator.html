<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pre-Qualification Calculator</title>

    <!-- PatternFly Styles -->
    <link rel="stylesheet" href="css/patternfly.min.css">
    <link rel="stylesheet" href="css/patternfly-additions.min.css">


    <!-- Bootstrap base + PatternFly extensions + Your styles -->
    <link rel="stylesheet" href="css/mystyles.css">

    <!-- JS -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/patternfly.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>


    <script>

  var taskId;
  var app = angular.module('myApp1', []);
app.controller('FormController1', function($scope,$http) {
  var baseURL = window.location.protocol + '//' + window.location.host;



</script>

<script>

    var taskId;
    var app = angular.module('myApp1', []);
  app.controller('FormController1', function($scope,$http) {
    var baseURL = window.location.protocol + '//' + window.location.host;
  
  $scope.checkFunc = function() {
  
  $http({
          url: baseURL+'/qualification-check',
          method: "POST",
          data: "{\"creditScore\":"+$scope.creditScore+",\"downPayment\":"+$scope.downPayment+",\"loanRate\":"+$scope.loanRate
          +",\"monthlyIncome\":"+$scope.monthlyIncome+",\"purchasePrice\":"+$scope.purchasePrice+"}"
      })
      .then(function(response) {
             $scope.responseMsg =response.data;
      })
      }
      
      $scope.checkFuncNew = function() {

$http({
        url: baseURL+'/qualification-check-v2',
        method: "POST",
        data: "{\"creditScore\":"+$scope.creditScore+",\"downPayment\":"+$scope.downPayment+",\"loanRate\":"+$scope.loanRate
        +",\"monthlyIncome\":"+$scope.monthlyIncome+",\"purchasePrice\":"+$scope.purchasePrice+"}"
    })
    .then(function(response) {
           $scope.responseMsgNew =response.data;
    });
    }

    $scope.checkFuncKogito = function() {

$http({
        url: 'http://localhost:8123'+'/Loan%20PreQualification',
        method: "POST",
        data: "{\"Credit Score\":"+$scope.creditScore+",\"Down payment\":"+$scope.downPayment+",\"Loan rate pct\":"+$scope.loanRate
        +",\"Monthly income\":"+$scope.monthlyIncome+",\"Purchase price\":"+$scope.purchasePrice+"}"
    })
    .then(function(response) {
           $scope.responseMsgKogito=response.data;
    });
    }
});

  
  </script>



</head>
<body id = "runsimulation" class="cards-pf" ng-app="myApp1" ng-controller="FormController1" >

<!-- PatternFly Horizontal Nav -->
<nav class="navbar navbar-default navbar-pf" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
            <h2>Pre-Qualification Calculator</h2>

        </a>
    </div>
    <div class="collapse navbar-collapse navbar-collapse-1">
        <ul class="nav navbar-nav navbar-utility">

            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="pficon pficon-user"></span>
                    Agent Login <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">Link</a>
                    </li>
                    <li>
                        <a href="#">Another link</a>
                    </li>
                    <li>
                        <a href="#">Something else here</a>
                    </li>
                    <li class="divider"></li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" href="#">More options</a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">Link</a>
                            </li>
                            <li>
                                <a href="#">Another link</a>
                            </li>
                            <li>
                                <a href="#">Something else here</a>
                            </li>
                            <li class="divider"></li>
                            <li class="dropdown-header">Nav header</li>
                            <li>
                                <a href="#">Separated link</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="#">One more separated link</a>
                            </li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="#">One more separated link</a>
                    </li>
                </ul>
            </li>
        </ul>
        <ul class="nav navbar-nav navbar-primary">
            <li>
                <a href="#">Quick Check</a>
            </li>

        </ul>
    </div>
</nav>


<div align="center" >



</div>

<div class="container-fluid container-cards-pf">

    <div class="col-xs-10 col-md-11">
        <form name="testForm">
            <div class="form-group>
       <div class="control-label"><strong>Credit Score</strong></div>
    <input class="col-lg-4" name="item" ng-model="creditScore" type="text" required>
    <hr/>
    <div class="control-label"><strong>Down Payment</strong></div>
    <input class="col-lg-4" name="item" ng-model="downPayment" type="text" required>
    <hr/>
    <div class="control-label"><strong>Loan Rate</strong></div>
    <input class="col-lg-4" name="item" ng-model="loanRate" type="text" required>
    <hr/>
    <div class="control-label"><strong>Monthly Income</strong></div>
    <input class="col-lg-4" name="item" ng-model="monthlyIncome" type="text" required>
    <hr/>
    <div class="control-label"><strong>Purchase Price</strong></div>
    <input class="col-lg-4" name="item" ng-model="purchasePrice" type="text" required>
    <hr/>
    <button id="rejectbutton"  type="button" class="btn btn-primary" ng-click="checkFunc();">Check Qualification</button>
<hr/>
    <table class="table table-striped table-bordered table-hover" id="table1" ng-show="responseMsg != null">
        <thead>
        <tr>
            <th>Qualification</th>
            <th>Affordability</th>
            <th>Debt to Income Ratio (DTI)</th>


        </tr>
        </thead>
        <tr>
            <td>{{responseMsg.qualification}}</td>
            <td>{{responseMsg.affordability}}</td>
            <td>{{responseMsg.dti}}</td>

        </tr>
    </table>
    <button id="rejectbutton"  type="button" class="btn btn-primary" ng-click="checkFuncNew();">Check Qualification New</button>
<hr/>
    <table class="table table-striped table-bordered table-hover" id="table1" ng-show="responseMsg != null">
        <thead>
        <tr>
            <th>Qualification</th>
            <th>Affordability</th>
            <th>Debt to Income Ratio (DTI)</th>


        </tr>
        </thead>
        <tr>
            <td>{{responseMsgNew.qualification}}</td>
            <td>{{responseMsgNew.affordability}}</td>
            <td>{{responseMsgNew.dti}}</td>

        </tr>
    </table>
    <button id="rejectbutton"  type="button" class="btn btn-primary" ng-click="checkFuncKogito();">Check Qualification Kogito</button>
<hr/>
    <table class="table table-striped table-bordered table-hover" id="table1" ng-show="responseMsgKogito != null">
        <thead>
        <tr>
            <th>Qualification</th>
            <th>Affordability</th>
            <th>Debt to Income Ratio (DTI)</th>


        </tr>
        </thead>
        <tr>
            <td>{{responseMsgKogito["Loan PreQualification"]}}</td>
            <td>{{responseMsgKogito["Affordability category"]}}</td>
            <td>{{responseMsgKogito["DTI pct"]}}</td>

        </tr>
    </table>

</div>


</div><!-- /col -->
</div>
</div>

</div><!-- /row -->

</div><!-- /container -->

</body>
</html>
